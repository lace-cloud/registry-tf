module:
  id: aws/iam/policy
  name: iam-policy
  system: aws
  version: 1.0.0
  registry_visibility: public
  description: "AWS IAM policy with configurable policy document and tags"

  categories:
    - iam
    - security
    - permissions

  authors:
    - name: "Lace Team"
      email: "team@lace.cloud"

  example: |
    module "my_policy" {
      source = "git::https://github.com/lace-cloud/registry-tf.git//modules/aws/iam/policy?ref=<commit-sha>"

      policy_name = "my-s3-read-policy"

      policy_document = jsonencode({
        Version = "2012-10-17"
        Statement = [
          {
            Action = [
              "s3:GetObject",
              "s3:ListBucket"
            ]
            Effect   = "Allow"
            Resource = [
              "arn:aws:s3:::my-bucket",
              "arn:aws:s3:::my-bucket/*"
            ]
          }
        ]
      })

      tags = {
        Environment = "production"
        Project     = "my-app"
      }
    }

